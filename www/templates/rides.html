<ion-view title="Rides" >
    <ion-nav-buttons side="left">
        <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>
    <ion-content overflow-scroll="true" padding="true" class="has-header">
        <ion-list>
            <ion-item class="item-divider" >Upcoming Rides</ion-item>
            <ion-item ng-show="user.rides.length === 0"> You have no upcoming rides...</ion-item>
            <ion-item ng-repeat="ride in user.rides" ng-click="goTo(ride)">{{ride.origin.name}} to {{ride.destination.name}}, on {{dateFormater.formatToString(ride.date)}}</ion-item>

      </ion-list>
      <ion-list>
          <ion-item class="item-divider" >Ride Requests</ion-item>
          <ion-item ng-show="requests.length === 0"> You have no requests...</ion-item>
          <ion-item ng-repeat="request in requests" >
            <b>{{request.passenger.name }}:</b>
            {{request.message}}
            <br>
            For ride from {{request.ride.origin.name}} to {{request.ride.destination.name}} on {{dateFormater.formatToString(request.ride.date)}}
            <button class="button  button-block " ng-click="acceptRequest(request)"> Accept </button>
            <button class="button  button-block" ng-click = "declineRequest(request)"> Decline </button>
          </ion-item>
      </ion-list>
      <ion-list>
          <ion-item class="item-divider" >Pending Requests</ion-item>
          <ion-item ng-show="pendingRequests.length === 0"> You have no pending requests...</ion-item>
          <ion-item ng-repeat="request in pendingRequests" >
            <b> awaiting response... </b> <br>
            For ride from {{request.ride.origin.name}} to {{request.ride.destination.name}} on {{dateFormater.formatToString(request.ride.date)}}
          </ion-item>
      </ion-list>
    </ion-content>
</ion-view>
